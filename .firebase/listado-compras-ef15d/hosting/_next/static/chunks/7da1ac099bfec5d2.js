(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,37727,e=>{"use strict";let t=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],37727)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},88699,27612,e=>{"use strict";var t=e.i(75254);let r=(0,t.default)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);e.s(["Pencil",()=>r],88699);let a=(0,t.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>a],27612)},55436,e=>{"use strict";let t=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>t],55436)},22855,e=>{"use strict";var t=e.i(14985);e.i(36180);var r=e.i(98925);let a="staff";function s(e){let s=(0,r.query)((0,r.collection)(t.db,a),(0,r.orderBy)("name"));return(0,r.onSnapshot)(s,t=>{e(t.docs.map(e=>({id:e.id,...e.data()})))})}async function l(e){return(0,r.addDoc)((0,r.collection)(t.db,a),e)}async function i(e,s){let l=(0,r.doc)(t.db,a,e);return(0,r.updateDoc)(l,s)}async function o(e){let s=(0,r.doc)(t.db,a,e);return(0,r.deleteDoc)(s)}e.s(["addStaffMember",()=>l,"deleteStaffMember",()=>o,"subscribeToStaff",()=>s,"updateStaffMember",()=>i])},70273,e=>{"use strict";let t=(0,e.i(75254).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);e.s(["Star",()=>t],70273)},92847,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(7233),s=e.i(88699),l=e.i(27612),i=e.i(55436),o=e.i(70273),d=e.i(31278),n=e.i(22855),c=e.i(37727);function m({isOpen:e,onClose:a,onSave:s,initialData:l}){let[i,o]=(0,r.useState)({name:"",role:"Barbero",image:"/barbers/barber1.jpg",rating:5,specialties:[],active:!0}),[d,n]=(0,r.useState)(""),[m,u]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{l?(o({name:l.name,role:l.role,image:l.image,rating:l.rating,specialties:l.specialties,active:l.active??!0}),n(l.specialties.join(", "))):(o({name:"",role:"Barbero",image:"/barbers/barber1.jpg",rating:5,specialties:[],active:!0}),n(""))},[l,e]),!e)return null;let b=async e=>{e.preventDefault(),u(!0);try{let e=d.split(",").map(e=>e.trim()).filter(e=>e.length>0);await s({...i,specialties:e}),a()}catch(e){console.error("Error saving staff member:",e)}finally{u(!1)}};return(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"bg-card border border-border rounded-lg shadow-lg w-full max-w-md p-6 relative",children:[(0,t.jsx)("button",{onClick:a,className:"absolute top-4 right-4 text-muted-foreground hover:text-foreground",children:(0,t.jsx)(c.X,{size:20})}),(0,t.jsx)("h2",{className:"text-xl font-bold mb-4",children:l?"Editar Miembro":"Nuevo Miembro"}),(0,t.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Nombre"}),(0,t.jsx)("input",{type:"text",required:!0,className:"w-full bg-secondary/30 border border-border rounded-md px-3 py-2 outline-none focus:border-primary",value:i.name,onChange:e=>o({...i,name:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Rol"}),(0,t.jsxs)("select",{className:"w-full bg-secondary/30 border border-border rounded-md px-3 py-2 outline-none focus:border-primary",value:i.role,onChange:e=>o({...i,role:e.target.value}),children:[(0,t.jsx)("option",{value:"Barbero",children:"Barbero"}),(0,t.jsx)("option",{value:"Estilista",children:"Estilista"}),(0,t.jsx)("option",{value:"Colorista",children:"Colorista"}),(0,t.jsx)("option",{value:"Recepcionista",children:"Recepcionista"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Especialidades (separadas por coma)"}),(0,t.jsx)("input",{type:"text",placeholder:"Corte ClÃ¡sico, Barba, Color...",className:"w-full bg-secondary/30 border border-border rounded-md px-3 py-2 outline-none focus:border-primary",value:d,onChange:e=>n(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1",children:"URL Imagen (Opcional)"}),(0,t.jsx)("input",{type:"text",className:"w-full bg-secondary/30 border border-border rounded-md px-3 py-2 outline-none focus:border-primary",value:i.image,onChange:e=>o({...i,image:e.target.value})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"active",checked:i.active,onChange:e=>o({...i,active:e.target.checked}),className:"rounded border-border bg-secondary/30"}),(0,t.jsx)("label",{htmlFor:"active",className:"text-sm font-medium",children:"Activo"})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 mt-6",children:[(0,t.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 text-sm font-medium hover:bg-secondary rounded-md transition-colors",children:"Cancelar"}),(0,t.jsx)("button",{type:"submit",disabled:m,className:"px-4 py-2 text-sm font-medium bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors disabled:opacity-50",children:m?"Guardando...":"Guardar"})]})]})]})})}function u(){let[e,c]=(0,r.useState)(""),[u,b]=(0,r.useState)([]),[x,p]=(0,r.useState)(!0),[f,h]=(0,r.useState)(!1),[g,v]=(0,r.useState)(void 0);(0,r.useEffect)(()=>{let e=(0,n.subscribeToStaff)(e=>{b(e),p(!1)});return()=>e()},[]);let j=async e=>{g?await (0,n.updateStaffMember)(g.id,e):await (0,n.addStaffMember)(e)},y=async(e,t)=>{confirm(`\xbfEst\xe1s seguro de eliminar a ${t}?`)&&await (0,n.deleteStaffMember)(e)},N=u.filter(t=>t.name.toLowerCase().includes(e.toLowerCase())||t.role.toLowerCase().includes(e.toLowerCase()));return x?(0,t.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,t.jsx)(d.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h2",{className:"text-3xl font-serif font-bold text-foreground",children:"Equipo"}),(0,t.jsxs)("button",{onClick:()=>{v(void 0),h(!0)},className:"bg-primary text-primary-foreground px-4 py-2 rounded-md font-medium text-sm flex items-center gap-2 hover:bg-primary/90 transition-colors",children:[(0,t.jsx)(a.Plus,{size:18}),"Nuevo Miembro"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 bg-card border border-border p-4 rounded-lg",children:[(0,t.jsx)(i.Search,{size:20,className:"text-muted-foreground"}),(0,t.jsx)("input",{type:"text",placeholder:"Buscar miembro...",className:"bg-transparent border-none outline-none text-foreground placeholder-muted-foreground w-full",value:e,onChange:e=>c(e.target.value)})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:0===N.length?(0,t.jsx)("div",{className:"col-span-full text-center text-muted-foreground p-8",children:"No se encontraron miembros del equipo."}):N.map(e=>(0,t.jsxs)("div",{className:"bg-card border border-border rounded-lg overflow-hidden flex flex-col group",children:[(0,t.jsxs)("div",{className:"aspect-square w-full bg-secondary relative overflow-hidden",children:[(0,t.jsx)("img",{src:e.image,alt:e.name,className:"object-cover w-full h-full transition-transform duration-500 group-hover:scale-110"}),(0,t.jsxs)("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-4",children:[(0,t.jsx)("button",{onClick:()=>{v(e),h(!0)},className:"p-3 bg-white text-black rounded-full hover:bg-primary hover:text-white transition-colors",children:(0,t.jsx)(s.Pencil,{size:20})}),(0,t.jsx)("button",{onClick:()=>y(e.id,e.name),className:"p-3 bg-white text-black rounded-full hover:bg-red-500 hover:text-white transition-colors",children:(0,t.jsx)(l.Trash2,{size:20})})]})]}),(0,t.jsxs)("div",{className:"p-4 flex-1 flex flex-col",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-bold",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-primary font-medium",children:e.role})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-amber-500 text-sm font-bold",children:[(0,t.jsx)(o.Star,{size:14,fill:"currentColor"}),e.rating]})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mt-2 mb-4",children:e.specialties.map((e,r)=>(0,t.jsx)("span",{className:"text-xs bg-secondary px-2 py-1 rounded-full text-muted-foreground border border-border/50",children:e},r))}),(0,t.jsx)("div",{className:"mt-auto pt-4 border-t border-border flex justify-between items-center text-xs text-muted-foreground",children:(0,t.jsxs)("span",{className:`flex items-center gap-1.5 ${e.active?"text-green-500":"text-red-500"}`,children:[(0,t.jsx)("span",{className:`w-2 h-2 rounded-full ${e.active?"bg-green-500":"bg-red-500"}`}),e.active?"Activo":"Inactivo"]})})]})]},e.id))}),(0,t.jsx)(m,{isOpen:f,onClose:()=>h(!1),onSave:j,initialData:g})]})}e.s(["default",()=>u],92847)}]);