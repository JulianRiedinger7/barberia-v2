(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,23634,e=>{"use strict";var r=e.i(14985);e.i(36180);var t=e.i(98925);let s="services";function a(e){let a=(0,t.query)((0,t.collection)(r.db,s),(0,t.orderBy)("name"));return(0,t.onSnapshot)(a,r=>{e(r.docs.map(e=>({id:e.id,...e.data()})))})}async function o(e){return(0,t.addDoc)((0,t.collection)(r.db,s),e)}async function d(e,a){let o=(0,t.doc)(r.db,s,e);return(0,t.updateDoc)(o,a)}async function i(e){let a=(0,t.doc)(r.db,s,e);return(0,t.deleteDoc)(a)}e.s(["addService",()=>o,"deleteService",()=>i,"subscribeToServices",()=>a,"updateService",()=>d])},37727,e=>{"use strict";let r=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>r],37727)},7233,e=>{"use strict";let r=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>r],7233)},88699,27612,e=>{"use strict";var r=e.i(75254);let t=(0,r.default)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);e.s(["Pencil",()=>t],88699);let s=(0,r.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>s],27612)},55436,e=>{"use strict";let r=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>r],55436)},25276,e=>{"use strict";var r=e.i(43476),t=e.i(71645),s=e.i(7233),a=e.i(88699),o=e.i(27612),d=e.i(55436),i=e.i(31278),n=e.i(23634),c=e.i(37727);function l({isOpen:e,onClose:s,onSave:a,initialData:o}){let[d,i]=(0,t.useState)({name:"",category:"Cortes",price:0,duration:30,description:"",active:!0}),[n,l]=(0,t.useState)(!1);if((0,t.useEffect)(()=>{o?i({name:o.name,category:o.category,price:o.price,duration:o.duration,description:o.description||"",active:o.active}):i({name:"",category:"Cortes",price:0,duration:30,description:"",active:!0})},[o,e]),!e)return null;let u=async e=>{e.preventDefault(),l(!0);try{await a(d),s()}catch(e){console.error("Error saving service:",e)}finally{l(!1)}};return(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:(0,r.jsxs)("div",{className:"bg-card border border-border rounded-lg shadow-lg w-full max-w-md p-6 relative",children:[(0,r.jsx)("button",{onClick:s,className:"absolute top-4 right-4 text-muted-foreground hover:text-foreground",children:(0,r.jsx)(c.X,{size:20})}),(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:o?"Editar Servicio":"Nuevo Servicio"}),(0,r.jsxs)("form",{onSubmit:u,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Nombre"}),(0,r.jsx)("input",{type:"text",required:!0,className:"w-full bg-secondary/30 border border-border rounded-md px-3 py-2 outline-none focus:border-primary",value:d.name,onChange:e=>i({...d,name:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Categoría"}),(0,r.jsxs)("select",{className:"w-full bg-secondary/30 border border-border rounded-md px-3 py-2 outline-none focus:border-primary",value:d.category,onChange:e=>i({...d,category:e.target.value}),children:[(0,r.jsx)("option",{value:"Cortes",children:"Cortes"}),(0,r.jsx)("option",{value:"Barba",children:"Barba"}),(0,r.jsx)("option",{value:"Combos",children:"Combos"}),(0,r.jsx)("option",{value:"Otros",children:"Otros"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Precio ($)"}),(0,r.jsx)("input",{type:"number",required:!0,min:"0",className:"w-full bg-secondary/30 border border-border rounded-md px-3 py-2 outline-none focus:border-primary",value:d.price,onChange:e=>i({...d,price:Number(e.target.value)})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Duración (min)"}),(0,r.jsx)("input",{type:"number",required:!0,min:"5",step:"5",className:"w-full bg-secondary/30 border border-border rounded-md px-3 py-2 outline-none focus:border-primary",value:d.duration,onChange:e=>i({...d,duration:Number(e.target.value)})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Descripción (Opcional)"}),(0,r.jsx)("textarea",{className:"w-full bg-secondary/30 border border-border rounded-md px-3 py-2 outline-none focus:border-primary resize-none h-20",value:d.description,onChange:e=>i({...d,description:e.target.value})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"checkbox",id:"active",checked:d.active,onChange:e=>i({...d,active:e.target.checked}),className:"rounded border-border bg-secondary/30"}),(0,r.jsx)("label",{htmlFor:"active",className:"text-sm font-medium",children:"Servicio Activo"})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-2 mt-6",children:[(0,r.jsx)("button",{type:"button",onClick:s,className:"px-4 py-2 text-sm font-medium hover:bg-secondary rounded-md transition-colors",children:"Cancelar"}),(0,r.jsx)("button",{type:"submit",disabled:n,className:"px-4 py-2 text-sm font-medium bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors disabled:opacity-50",children:n?"Guardando...":"Guardar"})]})]})]})})}function u(){let[e,c]=(0,t.useState)(""),[u,m]=(0,t.useState)([]),[x,b]=(0,t.useState)(!0),[p,h]=(0,t.useState)(!1),[f,v]=(0,t.useState)(void 0);(0,t.useEffect)(()=>{let e=(0,n.subscribeToServices)(e=>{m(e),b(!1)});return()=>e()},[]);let g=async e=>{f?await (0,n.updateService)(f.id,e):await (0,n.addService)(e)},y=async(e,r)=>{confirm(`\xbfEst\xe1s seguro de eliminar el servicio "${r}"?`)&&await (0,n.deleteService)(e)},j=u.filter(r=>r.name.toLowerCase().includes(e.toLowerCase())||r.category.toLowerCase().includes(e.toLowerCase()));return x?(0,r.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,r.jsx)(i.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h2",{className:"text-3xl font-serif font-bold text-foreground",children:"Servicios"}),(0,r.jsxs)("button",{onClick:()=>{v(void 0),h(!0)},className:"bg-primary text-primary-foreground px-4 py-2 rounded-md font-medium text-sm flex items-center gap-2 hover:bg-primary/90 transition-colors",children:[(0,r.jsx)(s.Plus,{size:18}),"Nuevo Servicio"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4 bg-card border border-border p-4 rounded-lg",children:[(0,r.jsx)(d.Search,{size:20,className:"text-muted-foreground"}),(0,r.jsx)("input",{type:"text",placeholder:"Buscar servicio...",className:"bg-transparent border-none outline-none text-foreground placeholder-muted-foreground w-full",value:e,onChange:e=>c(e.target.value)})]}),(0,r.jsx)("div",{className:"bg-card border border-border rounded-lg overflow-hidden",children:(0,r.jsxs)("table",{className:"w-full text-left",children:[(0,r.jsx)("thead",{className:"bg-secondary/50 border-b border-border",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"p-4 font-medium text-muted-foreground",children:"Nombre"}),(0,r.jsx)("th",{className:"p-4 font-medium text-muted-foreground",children:"Categoría"}),(0,r.jsx)("th",{className:"p-4 font-medium text-muted-foreground",children:"Duración"}),(0,r.jsx)("th",{className:"p-4 font-medium text-muted-foreground",children:"Precio"}),(0,r.jsx)("th",{className:"p-4 font-medium text-muted-foreground",children:"Estado"}),(0,r.jsx)("th",{className:"p-4 font-medium text-muted-foreground text-right",children:"Acciones"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-border",children:0===j.length?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:6,className:"p-8 text-center text-muted-foreground",children:"No se encontraron servicios."})}):j.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-secondary/20 transition-colors",children:[(0,r.jsx)("td",{className:"p-4 font-medium",children:e.name}),(0,r.jsx)("td",{className:"p-4",children:(0,r.jsx)("span",{className:"bg-secondary px-2 py-1 rounded text-xs font-medium text-muted-foreground border border-border",children:e.category})}),(0,r.jsxs)("td",{className:"p-4 text-muted-foreground",children:[e.duration," min"]}),(0,r.jsxs)("td",{className:"p-4 font-mono font-bold text-primary",children:["$",e.price.toLocaleString()]}),(0,r.jsx)("td",{className:"p-4",children:(0,r.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${e.active?"bg-green-500/10 text-green-500":"bg-red-500/10 text-red-500"}`,children:e.active?"Activo":"Inactivo"})}),(0,r.jsx)("td",{className:"p-4 text-right",children:(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,r.jsx)("button",{onClick:()=>{v(e),h(!0)},className:"p-2 text-muted-foreground hover:text-primary hover:bg-secondary rounded transition-colors",children:(0,r.jsx)(a.Pencil,{size:18})}),(0,r.jsx)("button",{onClick:()=>y(e.id,e.name),className:"p-2 text-muted-foreground hover:text-red-500 hover:bg-secondary rounded transition-colors",children:(0,r.jsx)(o.Trash2,{size:18})})]})})]},e.id))})]})}),(0,r.jsx)(l,{isOpen:p,onClose:()=>h(!1),onSave:g,initialData:f})]})}e.s(["default",()=>u],25276)}]);